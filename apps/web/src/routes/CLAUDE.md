# Web Routes Directory

## OVERVIEW

TanStack Router file-based routing with TanStack Start SSR, grouped by route domain with co-located components.

**Status:** All routes implemented (Phase 1-6 complete) - See saas-platform-complete.md for full details.

## STRUCTURE

```
src/routes/
├── (auth)/              # Authenticated routes group
├── (public)/            # Public routes group
├── admin/               # Admin dashboard routes
│   ├── -components/     # Admin-specific shared components
│   ├── dashboard/
│   ├── organizations/
│   └── users/
├── api/                 # API proxy routes
│   ├── auth/
│   └── rpc/             # oRPC endpoint proxy
├── org/                 # Organization member routes
│   ├── -components/     # Org-specific shared components
│   ├── dashboard/
│   ├── members/
│   └── settings/
└── __root.tsx           # Root layout
```

## WHERE TO LOOK

| Task | Location |
|------|----------|
| Route definitions | Each route.tsx file |
| Route groups | (auth)/, (public)/, admin/, org/ |
| Shared components | -components/ subdirs per group |
| Layout components | route.tsx files, __root.tsx |
| API integration | api/rpc/route.tsx |

## CONVENTIONS

### File Organization

- **Route files**: `route.tsx` - exports route configuration
- **Index files**: `index.tsx` - default route for directory
- **Nested routes**: `$param.tsx` - dynamic route segments
- **Component folders**: `-components/` - route-scoped shared components (dash prefix = not a route)

### Route Pattern

Each route file exports `Route` from `createRootRouteWithContext<RouterAppContext>`:

```typescript
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/admin/dashboard')({
  component: AdminDashboard
})
```

### Component Co-location

- Route-specific components live in `-components/` adjacent to routes
- Naming: kebab-case for WXML files, PascalCase for TS/JS
- Prevents namespace pollution across route groups

### oRPC Access

All routes access oRPC via context:

```typescript
const { orpc } = useContext(RouterAppContext)
```

## ANTI-PATTERNS

- **Don't create top-level components** in `src/routes/` (use -components/ subdirs)
- **Don't mix route groups** - keep admin/ separate from org/ - they have different permissions
- **Don't duplicate components** - shared across groups → move to src/components/
- **Don't modify routeTree.gen.ts** - auto-generated by TanStack Router

## UNIQUE STYLES

- **Group prefixes**: `(auth)`, `(public)` denote route groups (not actual URLs)
- **Component isolation**: Each major route domain (admin, org) has its own -components/ folder
- **File-based routing**: No explicit route config - file structure = routing

## NOTES

- Route groups (parenthesized directories) don't add URL segments
- -components/ folders are ignored by router, prevent automatic route registration
- Use `<Link from="...">` for type-safe navigation
